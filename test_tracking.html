<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>追踪测试页面</title>
    <script defer src="http://localhost:8080/static/pingoo.js" tracking-id="2fe31b34-4645-4c51-9783-3cdeb144ed4d" user-id="test_user_123"></script>
</head>
<body>
    <h1>Pingoo 追踪测试页面</h1>
    
    <div style="margin: 20px; padding: 20px; border: 1px solid #ccc;">
        <h2>测试按钮</h2>
        <button onclick="trackEvent('button_click', '测试按钮1')">点击追踪事件1</button>
        <button onclick="trackEvent('button_click', '测试按钮2')">点击追踪事件2</button>
        <button onclick="trackPageView()">手动追踪页面浏览</button>
    </div>

    <div style="margin: 20px; padding: 20px; border: 1px solid #ccc;">
        <h2>自定义事件</h2>
        <input type="text" id="eventType" placeholder="事件类型" value="custom_event">
        <input type="text" id="eventValue" placeholder="事件值" value="测试值">
        <button onclick="customEvent()">发送自定义事件</button>
    </div>

    <div style="margin: 20px; padding: 20px; border: 1px solid #ccc;">
        <h2>调试信息</h2>
        <button onclick="showConfig()">显示配置</button>
        <pre id="debugInfo"></pre>
    </div>

    <script>
        function customEvent() {
            const eventType = document.getElementById('eventType').value;
            const eventValue = document.getElementById('eventValue').value;
            trackEvent(eventType, eventValue);
            alert(`已发送事件: ${eventType} - ${eventValue}`);
        }

        function showConfig() {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.textContent = JSON.stringify({
                pingooLoaded: typeof pingoo !== 'undefined',
                siteId: window.PINGOO_SITE_ID,
                apiUrl: window.PINGOO_API_URL,
                userId: localStorage.getItem('pingoo_user_id'),
                sessionId: localStorage.getItem('pingoo_session_id')
            }, null, 2);
        }

        // 页面加载完成后自动显示配置
        window.addEventListener('load', () => {
            setTimeout(showConfig, 1000);
        });
    </script>
</body>
</html>